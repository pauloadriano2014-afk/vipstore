<style>
  .prod-container {
    max-width: 1200px;
    margin: 40px auto;
    padding: 0 20px;
    display: flex;
    flex-wrap: wrap;
    gap: 50px;
    font-family: sans-serif;
  }

  /* --- GALERIA INTELIGENTE --- */
  .prod-gallery {
    flex: 1;
    min-width: 300px;
    display: flex;
    flex-direction: column;
    gap: 15px;
  }
  
  /* Estilo para Fotos */
  .prod-gallery img {
    width: 100%;
    height: auto;
    border-radius: 8px;
    object-fit: cover;
  }

  /* Estilo para Vídeos (MP4 e YouTube) */
  .prod-gallery video, 
  .prod-gallery iframe {
    width: 100%;
    height: auto;
    /* MUDANÇA AQUI: Formato Vertical (Retrato) */
    aspect-ratio: 9 / 16; 
    border-radius: 8px;
    border: 1px solid #333; 
    background: #000;
    object-fit: cover; /* Garante que o vídeo preencha o espaço sem esticar */
  }

  /* Informações do Produto */
  .prod-info {
    flex: 1;
    min-width: 300px;
    position: sticky;
    top: 20px;
    height: fit-content;
  }

  .prod-title {
    font-size: 28px;
    font-weight: 800; 
    margin-bottom: 10px;
    text-transform: uppercase;
    background: linear-gradient(45deg, #BF953F, #FCF6BA, #B38728, #FBF5B7, #AA771C);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .prod-price {
    font-size: 28px;
    margin-bottom: 5px;
    font-weight: 800;
  }

  .prod-installments {
    font-size: 14px;
    color: #ccc; 
    margin-bottom: 25px;
  }

  /* SELETOR DE TAMANHOS */
  .variant-wrapper {
    margin-bottom: 25px;
  }
  .variant-label {
    font-weight: bold;
    margin-bottom: 10px;
    display: block;
    text-transform: uppercase;
    font-size: 0.9rem;
    color: #fff;
  }
  .variant-options {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
  }
  .variant-options input[type="radio"] {
    display: none;
  }
  
  .variant-options label {
    padding: 10px 20px;
    border: 1px solid #555;
    cursor: pointer;
    font-weight: bold;
    text-transform: uppercase;
    border-radius: 4px;
    transition: 0.3s;
    min-width: 50px;
    text-align: center;
    color: #fff;
    background: #111;
  }
  
  .variant-options label:hover {
    border-color: #D4AF37;
  }
  
  .variant-options input[type="radio"]:checked + label {
    background: linear-gradient(to right, #AA771C, #B38728);
    color: #fff;
    border-color: #FFD700;
    box-shadow: 0 0 10px rgba(212, 175, 55, 0.4);
  }

  /* Botões de Ação */
  .btn-add-cart {
    background-image: linear-gradient(to right, #AA771C 0%, #B38728 51%, #AA771C 100%);
    color: #fff;
    width: 100%;
    padding: 18px;
    border: 1px solid #FCF6BA;
    font-size: 16px;
    font-weight: 800;
    text-transform: uppercase;
    cursor: pointer;
    transition: 0.5s;
    margin-bottom: 10px;
    border-radius: 5px;
    box-shadow: 0 0 10px rgba(179, 135, 40, 0.2);
  }
  .btn-add-cart:hover {
    background-position: right center;
    transform: scale(1.02);
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
  }

  /* Acordeão (Abas) */
  .accordion {
    margin-top: 30px;
    border-top: 1px solid #333;
  }
  .accordion details {
    border-bottom: 1px solid #333;
    padding: 15px 0;
  }
  .accordion summary {
    font-weight: bold;
    cursor: pointer;
    list-style: none;
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: #fff; 
  }
  .accordion summary::after {
    content: '+';
    font-size: 18px;
    color: #D4AF37;
  }
  .accordion details[open] summary::after {
    content: '-';
  }
  .accordion-content {
    margin-top: 10px;
    color: #ccc; 
    line-height: 1.6;
    font-size: 14px;
  }

  @media (max-width: 768px) {
    .prod-container { flex-direction: column; gap: 20px; }
  }
</style>

<div class="prod-container">
  
  <div class="prod-gallery">
    {% for media in product.media %}
      {% case media.media_type %}
        {% when 'image' %}
          <img src="{{ media | img_url: '1000x' }}" alt="{{ media.alt | escape }}">
        
        {% when 'external_video' %}
          <iframe
            src="https://www.youtube.com/embed/{{ media.external_id }}?autoplay=1&mute=1&loop=1&playlist={{ media.external_id }}&controls=0&rel=0"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            style="aspect-ratio: 9 / 16;"> </iframe>

        {% when 'video' %}
          {{ media | video_tag: controls: true, autoplay: true, loop: true, muted: true, image_size: "1000x", style: "aspect-ratio: 9/16; object-fit: cover;" }}
      
      {% endcase %}
    {% endfor %}
  </div>

  <div class="prod-info">
    <h1 class="prod-title">{{ product.title }}</h1>
    
    <div class="product-price prod-price"> 
      {{ product.price | money }}
    </div>
    
    <div class="prod-installments">
      em até 12x de {{ product.price | divided_by: 12 | money }} no cartão
    </div>

    {% form 'product', product %}
      
      {% unless product.has_only_default_variant %}
        <div class="variant-wrapper">
          <span class="variant-label">Escolha a Opção:</span>
          <div class="variant-options">
            {% for variant in product.variants %}
              <input 
                type="radio" 
                id="variant_{{ variant.id }}" 
                name="id" 
                value="{{ variant.id }}" 
                {% if forloop.first %}checked{% endif %}
                {% unless variant.available %}disabled{% endunless %}
              >
              <label for="variant_{{ variant.id }}" {% unless variant.available %}style="opacity:0.5; text-decoration:line-through;"{% endunless %}>
                {{ variant.title }}
              </label>
            {% endfor %}
          </div>
        </div>
      {% else %}
        <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
      {% endunless %}
      
      <button type="submit" name="add" class="btn-add-cart">
        Adicionar ao Carrinho
      </button>
      
      <div style="margin-top: 10px;">
        {{ form | payment_button }}
      </div>
      
    {% endform %}

    <div class="accordion">
      <details open>
        <summary>Descrição do Produto</summary>
        <div class="accordion-content">
          {{ product.description }}
        </div>
      </details>
      
      {% assign show_size_chart = true %}
      {% for tag in product.tags %}
        {% assign t = tag | downcase %}
        {% if t contains 'rasteirinha' or t contains 'acessorio' or t contains 'cinto' or t contains 'meia' or t contains 'bone' or t contains 'bolsa' or t contains 'perfume' %}
          {% assign show_size_chart = false %}
        {% endif %}
      {% endfor %}

      {% if show_size_chart %}
        <details>
          <summary>Tabela de Medidas</summary>
          <div class="accordion-content">
            <p><strong>P (36-38):</strong> Cintura 60-68cm | Quadril 88-96cm</p>
            <p><strong>M (40-42):</strong> Cintura 69-77cm | Quadril 97-105cm</p>
            <p><strong>G (44-46):</strong> Cintura 78-86cm | Quadril 106-114cm</p>
          </div>
        </details>
      {% endif %}

      <details>
        <summary>Envio e Trocas</summary>
        <div class="accordion-content">
          Frete Grátis para compras acima de R$ 299. Primeira troca grátis em até 7 dias.
        </div>
      </details>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Produto VIP Pro",
  "settings": [],
  "presets": [{ "name": "Produto VIP Pro" }]
}
{% endschema %}