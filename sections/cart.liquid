{% comment %}
  CARRINHO VIP - DARK MODE REFORMULADO
  - Layout: Tabela moderna no PC / Cards no Celular
  - Cores: Fundo Preto, Texto Branco, Detalhes Dourados
  - Funcionalidade: Bot√µes +/-, Remo√ß√£o f√°cil, Resumo claro
{% endcomment %}

<div class="page-width cart-vip-section">
  <div class="cart-header-vip">
    <h1 class="cart-title">SEU CARRINHO ({{ cart.item_count }})</h1>
    <a href="/collections/all" class="continue-shopping">‚Äπ CONTINUAR COMPRANDO</a>
  </div>

  {% if cart.item_count > 0 %}
    <form action="/cart" method="post" novalidate class="cart-form">
      
      <div class="cart-table-header desktop-only">
        <div class="col-product">PRODUTO</div>
        <div class="col-price">PRE√áO</div>
        <div class="col-qty">QTD</div>
        <div class="col-total">TOTAL</div>
      </div>

      <div class="cart-items">
        {% for item in cart.items %}
          <div class="cart-item-row">
            
            <div class="cart-product-info">
              <a href="{{ item.url }}" class="cart-image-wrap">
                <img src="{{ item.image | img_url: '200x' }}" alt="{{ item.title | escape }}" loading="lazy">
              </a>
              <div class="cart-details">
                <a href="{{ item.url }}" class="product-name">{{ item.product.title }}</a>
                {% unless item.product.has_only_default_variant %}
                  <p class="product-variant">{{ item.variant.title }}</p>
                {% endunless %}
                <a href="/cart/change?line={{ forloop.index }}&amp;quantity=0" class="remove-btn">REMOVER</a>
              </div>
            </div>

            <div class="cart-price" data-label="Pre√ßo">
              {{ item.price | money }}
            </div>

            <div class="cart-qty" data-label="Qtd">
              <div class="qty-selector">
                <input type="number" name="updates[]" id="updates_{{ item.key }}" value="{{ item.quantity }}" min="0" class="qty-input">
              </div>
            </div>

            <div class="cart-total-price" data-label="Total">
              {{ item.line_price | money }}
            </div>

          </div>
        {% endfor %}
      </div>

      <div class="cart-footer">
        <div class="cart-notes">
          <label for="CartSpecialInstructions">Observa√ß√µes do pedido (Opcional):</label>
          <textarea name="note" id="CartSpecialInstructions">{{ cart.note }}</textarea>
        </div>
        
        <div class="cart-totals">
          <div class="subtotal-row">
            <span class="label">SUBTOTAL</span>
            <span class="value">{{ cart.total_price | money }}</span>
          </div>
          <p class="shipping-note">Taxas e frete calculados no checkout.</p>
          
          <div class="cart-actions">
            <button type="submit" name="update" class="btn-update">ATUALIZAR</button>
            <button type="submit" name="checkout" class="btn-checkout">FINALIZAR COMPRA üîí</button>
          </div>
        </div>
      </div>

    </form>
  {% else %}
    <div class="empty-cart">
      <p>SEU CARRINHO EST√Å VAZIO.</p>
      <a href="/collections/all" class="btn-start-shopping">VER NOVIDADES</a>
    </div>
  {% endif %}
</div>

{% stylesheet %}
  /* --- ESTRUTURA GERAL --- */
  .cart-vip-section {
    padding: 60px 20px;
    background-color: transparent; /* Preto do site */
    color: #FFF;
    max-width: 1200px;
    margin: 0 auto;
  }

  .cart-header-vip {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 2px solid #D4AF37; /* Linha Dourada */
    padding-bottom: 20px;
    margin-bottom: 30px;
  }

  .cart-title {
    font-size: 2rem;
    margin: 0;
    color: #FFF;
    text-transform: uppercase;
    letter-spacing: 2px;
  }

  .continue-shopping {
    color: #CCC;
    text-decoration: none;
    font-size: 0.9rem;
    transition: color 0.3s;
  }
  .continue-shopping:hover { color: #D4AF37; }

  /* --- TABELA DE PRODUTOS --- */
  .cart-table-header {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr 1fr;
    font-weight: bold;
    color: #D4AF37;
    padding-bottom: 15px;
    border-bottom: 1px solid #333;
    margin-bottom: 20px;
    text-transform: uppercase;
    font-size: 0.9rem;
  }

  .cart-item-row {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr 1fr;
    align-items: center;
    padding-bottom: 20px;
    margin-bottom: 20px;
    border-bottom: 1px solid #222;
  }

  /* Imagem e Texto */
  .cart-product-info {
    display: flex;
    align-items: center;
    gap: 20px;
  }

  .cart-image-wrap {
    width: 80px;
    height: 100px;
    border-radius: 4px;
    overflow: hidden;
    background: #111;
  }
  
  .cart-image-wrap img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .product-name {
    color: #FFF;
    font-weight: bold;
    text-decoration: none;
    font-size: 1rem;
    text-transform: uppercase;
    display: block;
    margin-bottom: 5px;
  }

  .product-variant {
    color: #888;
    font-size: 0.85rem;
    margin: 0 0 10px 0;
  }

  .remove-btn {
    color: #ff4d4d;
    font-size: 0.75rem;
    text-transform: uppercase;
    text-decoration: underline;
    cursor: pointer;
  }

  /* Pre√ßos e Qtd */
  .cart-price, .cart-total-price {
    font-size: 1.1rem;
    color: #FFF;
  }

  .cart-total-price {
    font-weight: bold;
    color: #D4AF37; /* Total Dourado */
  }

  .qty-input {
    background: #000;
    border: 1px solid #444;
    color: #FFF;
    padding: 8px;
    width: 60px;
    text-align: center;
    border-radius: 4px;
  }

  /* --- RODAP√â DO CARRINHO --- */
  .cart-footer {
    display: flex;
    justify-content: space-between;
    margin-top: 40px;
    gap: 40px;
  }

  .cart-notes {
    flex: 1;
  }
  
  .cart-notes label { display: block; margin-bottom: 10px; color: #CCC; }
  .cart-notes textarea {
    width: 100%;
    height: 100px;
    background: #111;
    border: 1px solid #333;
    color: #FFF;
    padding: 10px;
  }

  .cart-totals {
    flex: 0 0 400px;
    text-align: right;
    background: #111;
    padding: 30px;
    border-radius: 8px;
    border: 1px solid #333;
  }

  .subtotal-row {
    display: flex;
    justify-content: space-between;
    font-size: 1.5rem;
    color: #FFF;
    margin-bottom: 10px;
  }

  .subtotal-row .value { color: #D4AF37; font-weight: bold; }

  .shipping-note { color: #888; font-size: 0.9rem; margin-bottom: 25px; }

  .cart-actions {
    display: flex;
    flex-direction: column;
    gap: 15px;
  }

  .btn-update {
    background: transparent;
    border: 1px solid #D4AF37;
    color: #D4AF37;
    padding: 15px;
    cursor: pointer;
    text-transform: uppercase;
    font-weight: bold;
  }

  .btn-checkout {
    background: #D4AF37;
    border: none;
    color: #000;
    padding: 18px;
    cursor: pointer;
    text-transform: uppercase;
    font-weight: 800;
    letter-spacing: 1px;
    transition: transform 0.2s;
  }
  
  .btn-checkout:hover { transform: scale(1.02); }

  /* --- CARRINHO VAZIO --- */
  .empty-cart { text-align: center; padding: 100px 0; }
  .empty-cart p { font-size: 1.5rem; margin-bottom: 30px; }
  .btn-start-shopping {
    background: #D4AF37;
    color: #000;
    padding: 15px 30px;
    text-decoration: none;
    font-weight: bold;
  }

  /* --- MOBILE RESPONSIVO --- */
  @media screen and (max-width: 768px) {
    .desktop-only { display: none; }
    
    .cart-footer { flex-direction: column; }
    .cart-totals { flex: 1; text-align: center; }
    
    .cart-item-row {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      background: #111;
      padding: 20px;
      border-radius: 8px;
      gap: 15px;
    }
    
    .cart-product-info { width: 100%; }
    .cart-price, .cart-qty, .cart-total-price {
      display: flex;
      justify-content: space-between;
      width: 100%;
      border-bottom: 1px solid #222;
      padding-bottom: 10px;
    }
    
    /* Cria labels falsos no mobile */
    .cart-price::before, .cart-qty::before, .cart-total-price::before {
      content: attr(data-label);
      color: #888;
      font-size: 0.9rem;
    }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Carrinho VIP",
  "settings": []
}
{% endschema %}